<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2320px" preserveAspectRatio="none" style="width:1321px;height:2320px;" version="1.1" viewBox="0 0 1321 2320" width="1321px" zoomAndPan="magnify"><defs><filter height="300%" id="foc98r3qz6uph" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="611.5" y="22.9951">Load Users</text><rect fill="#FFFFFF" filter="url(#foc98r3qz6uph)" height="906.0469" style="stroke: #000000; stroke-width: 2.0;" width="1286" x="13" y="85.5938"/><rect fill="#FFFFFF" filter="url(#foc98r3qz6uph)" height="634.6563" style="stroke: #000000; stroke-width: 2.0;" width="1286" x="13" y="1005.6406"/><rect fill="#FFFFFF" filter="url(#foc98r3qz6uph)" height="608.5234" style="stroke: #000000; stroke-width: 2.0;" width="1286" x="13" y="1654.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="69" x2="69" y1="68.5938" y2="2279.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="312.5" x2="312.5" y1="68.5938" y2="2279.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="559" x2="559" y1="68.5938" y2="2279.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="851" x2="851" y1="68.5938" y2="2279.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1178" x2="1178" y1="68.5938" y2="2279.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1258" x2="1258" y1="68.5938" y2="2279.8203"/><rect fill="#FEFECE" filter="url(#foc98r3qz6uph)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="23" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="30" y="53.292">UsersPage</text><rect fill="#FEFECE" filter="url(#foc98r3qz6uph)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="23" y="2278.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="30" y="2298.8154">UsersPage</text><rect fill="#FEFECE" filter="url(#foc98r3qz6uph)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="258.5" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="265.5" y="53.292">ContextState</text><rect fill="#FEFECE" filter="url(#foc98r3qz6uph)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="258.5" y="2278.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="265.5" y="2298.8154">ContextState</text><rect fill="#FEFECE" filter="url(#foc98r3qz6uph)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="514" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="521" y="53.292">InitialEffect</text><rect fill="#FEFECE" filter="url(#foc98r3qz6uph)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="514" y="2278.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="521" y="2298.8154">InitialEffect</text><rect fill="#FEFECE" filter="url(#foc98r3qz6uph)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="778" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="785" y="53.292">StateChangeEffect</text><rect fill="#FEFECE" filter="url(#foc98r3qz6uph)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="778" y="2278.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="785" y="2298.8154">StateChangeEffect</text><rect fill="#FEFECE" filter="url(#foc98r3qz6uph)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="1140" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1147" y="53.292">Reducer</text><rect fill="#FEFECE" filter="url(#foc98r3qz6uph)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="1140" y="2278.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1147" y="2298.8154">Reducer</text><rect fill="#FEFECE" filter="url(#foc98r3qz6uph)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="1227" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="1234" y="53.292">Server</text><rect fill="#FEFECE" filter="url(#foc98r3qz6uph)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="1227" y="2278.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="1234" y="2298.8154">Server</text><path d="M13,85.5938 L215,85.5938 L215,92.5938 L205,102.5938 L13,102.5938 L13,85.5938 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="906.0469" style="stroke: #000000; stroke-width: 2.0;" width="1286" x="13" y="85.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="157" x="28" y="98.6606">initalize User Context</text><path d="M82,107.7266 L82,419.7266 L539,419.7266 L539,117.7266 L529,107.7266 L82,107.7266 " fill="#FBFB77" filter="url(#foc98r3qz6uph)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M529,107.7266 L529,117.7266 L539,117.7266 L529,107.7266 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="246" x="88" y="124.7935">context state: UserExtendedData</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="334" y="124.7935">:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="88" y="139.9263">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="104" y="155.0591">users: User[],</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="88" x="195" y="155.0591">// User Data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="104" y="170.1919">action: IActionBase {</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="275" x="242" y="170.1919">// the Action that generated the data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="152" y="185.3247">type: string;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="176" y="200.4575">(ADD_USER,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="180" y="215.5903">ADD_USERS,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="180" y="230.7231">EDIT_USER,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="180" y="245.856">REMOVE_USER,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="180" y="260.9888">LOAD_USERS,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="180" y="276.1216">SEARCH_USERS,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="180" y="291.2544">UPDATE_USERS_AREAS)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="152" y="306.3872">[prop: string]: any;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="104" y="321.52">searchParams : ISearchUsersParams {</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="156" x="363" y="321.52">// how data retreived</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="180" y="336.6528">"dayFilter": string,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="180" y="351.7856">"cityFilter": string,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="180" y="366.9185">"nameFilter": string</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="120" y="382.0513">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="104" y="397.1841">deliveryAreas: string[]</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="201" x="248" y="397.1841">// distinct areas from users</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="88" y="412.3169">}</text><polygon fill="#A80036" points="300.5,446.5156,310.5,450.5156,300.5,454.5156,304.5,450.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69.5" x2="306.5" y1="450.5156" y2="450.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="76.5" y="445.4497">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="89.5" y="445.4497">Page Load with Context Provider</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="312.5" x2="354.5" y1="479.6484" y2="479.6484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="354.5" x2="354.5" y1="479.6484" y2="492.6484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="313.5" x2="354.5" y1="492.6484" y2="492.6484"/><polygon fill="#A80036" points="323.5,488.6484,313.5,492.6484,323.5,496.6484,319.5,492.6484" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="319.5" y="474.5825">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="332.5" y="474.5825">Create initial context (default)</text><polygon fill="#A80036" points="547.5,517.7813,557.5,521.7813,547.5,525.7813,551.5,521.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="312.5" x2="553.5" y1="521.7813" y2="521.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="319.5" y="516.7153">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="332.5" y="516.7153">Launch initial effect (useEffect [])</text><rect fill="#EEEEEE" filter="url(#foc98r3qz6uph)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1306" x="3" y="550.3477"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1309" y1="550.3477" y2="550.3477"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1309" y1="553.3477" y2="553.3477"/><rect fill="#EEEEEE" filter="url(#foc98r3qz6uph)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="91" x="610.5" y="539.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="616.5" y="555.8481">Users Part</text><polygon fill="#A80036" points="1246,590.0469,1256,594.0469,1246,598.0469,1250,594.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="559.5" x2="1252" y1="594.0469" y2="594.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="566.5" y="588.981">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="579.5" y="588.981">Get Users (context state.SearchParams)</text><polygon fill="#A80036" points="570.5,619.1797,560.5,623.1797,570.5,627.1797,566.5,623.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="564.5" x2="1257" y1="623.1797" y2="623.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="576.5" y="618.1138">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="589.5" y="618.1138">users list</text><polygon fill="#A80036" points="1166.5,648.3125,1176.5,652.3125,1166.5,656.3125,1170.5,652.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="559.5" x2="1172.5" y1="652.3125" y2="652.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="566.5" y="647.2466">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="579.5" y="647.2466">Dispatch LOAD_USERS</text><polygon fill="#A80036" points="323.5,677.4453,313.5,681.4453,323.5,685.4453,319.5,681.4453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="317.5" x2="1177.5" y1="681.4453" y2="681.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="329.5" y="676.3794">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="402" x="342.5" y="676.3794">Update Context state with users list (UserExtendedData.users)</text><polygon fill="#A80036" points="839.5,706.5781,849.5,710.5781,839.5,714.5781,843.5,710.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="312.5" x2="845.5" y1="710.5781" y2="710.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="319.5" y="705.5122">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="427" x="332.5" y="705.5122">Launch useEffect on context state change. Action = LOAD_USERS.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="893.5" y1="739.7109" y2="739.7109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="893.5" x2="893.5" y1="739.7109" y2="752.7109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="852.5" x2="893.5" y1="752.7109" y2="752.7109"/><polygon fill="#A80036" points="862.5,748.7109,852.5,752.7109,862.5,756.7109,858.5,752.7109" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="858.5" y="734.645">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="871.5" y="734.645">Do nothing for action LOAD_USERS</text><rect fill="#EEEEEE" filter="url(#foc98r3qz6uph)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1306" x="3" y="781.2773"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1309" y1="781.2773" y2="781.2773"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1309" y1="784.2773" y2="784.2773"/><rect fill="#EEEEEE" filter="url(#foc98r3qz6uph)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="92" x="610" y="770.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="78" x="616" y="786.7778">Areas Part</text><polygon fill="#A80036" points="1246,820.9766,1256,824.9766,1246,828.9766,1250,824.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="559.5" x2="1252" y1="824.9766" y2="824.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="566.5" y="819.9106">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="588.5" y="819.9106">Get users areas distinct</text><polygon fill="#A80036" points="570.5,850.1094,560.5,854.1094,570.5,858.1094,566.5,854.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="564.5" x2="1257" y1="854.1094" y2="854.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="576.5" y="849.0435">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="598.5" y="849.0435">areas</text><polygon fill="#A80036" points="1166.5,879.2422,1176.5,883.2422,1166.5,887.2422,1170.5,883.2422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="559.5" x2="1172.5" y1="883.2422" y2="883.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="566.5" y="878.1763">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="259" x="588.5" y="878.1763">Dispatch UPDATE_USERS_AREAS(areas)</text><polygon fill="#A80036" points="323.5,908.375,313.5,912.375,323.5,916.375,319.5,912.375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="317.5" x2="1177.5" y1="912.375" y2="912.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="329.5" y="907.3091">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="430" x="351.5" y="907.3091">Update context state with areas (UserExtendedData.deliveryAreas)</text><polygon fill="#A80036" points="839.5,937.5078,849.5,941.5078,839.5,945.5078,843.5,941.5078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="312.5" x2="845.5" y1="941.5078" y2="941.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="319.5" y="936.4419">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="493" x="341.5" y="936.4419">Launch useEffect on context state change. Action = UPDATE_USERS_AREAS.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="893.5" y1="970.6406" y2="970.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="893.5" x2="893.5" y1="970.6406" y2="983.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="852.5" x2="893.5" y1="983.6406" y2="983.6406"/><polygon fill="#A80036" points="862.5,979.6406,852.5,983.6406,862.5,987.6406,858.5,983.6406" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="858.5" y="965.5747">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="291" x="880.5" y="965.5747">Do nothing for action UPDATE_USERS_AREAS</text><path d="M13,1005.6406 L165,1005.6406 L165,1012.6406 L155,1022.6406 L13,1022.6406 L13,1005.6406 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="634.6563" style="stroke: #000000; stroke-width: 2.0;" width="1286" x="13" y="1005.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107" x="28" y="1018.7075">Add User Flow</text><polygon fill="#A80036" points="1166.5,1039.9063,1176.5,1043.9063,1166.5,1047.9063,1170.5,1043.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69.5" x2="1172.5" y1="1043.9063" y2="1043.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="76.5" y="1038.8403">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="98.5" y="1038.8403">Dispatch ADD_USER(user)</text><rect fill="#EEEEEE" filter="url(#foc98r3qz6uph)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1306" x="3" y="1072.4727"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1309" y1="1072.4727" y2="1072.4727"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1309" y1="1075.4727" y2="1075.4727"/><rect fill="#EEEEEE" filter="url(#foc98r3qz6uph)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="91" x="610.5" y="1061.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="616.5" y="1077.9731">Users Part</text><polygon fill="#A80036" points="323.5,1112.1719,313.5,1116.1719,323.5,1120.1719,319.5,1116.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="317.5" x2="1177.5" y1="1116.1719" y2="1116.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="329.5" y="1111.106">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="351.5" y="1111.106">Update Context state with new user</text><path d="M103,1129.1719 L103,1154.1719 L517,1154.1719 L517,1139.1719 L507,1129.1719 L103,1129.1719 " fill="#FBFB77" filter="url(#foc98r3qz6uph)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M507,1129.1719 L507,1139.1719 L517,1139.1719 L507,1129.1719 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="393" x="109" y="1146.2388">add the new user to context state (stateExtendedData.users)</text><polygon fill="#A80036" points="839.5,1180.4375,849.5,1184.4375,839.5,1188.4375,843.5,1184.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="312.5" x2="845.5" y1="1184.4375" y2="1184.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="319.5" y="1179.3716">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="411" x="341.5" y="1179.3716">Launch useEffect on context state change. Action = ADD_USER.</text><polygon fill="#A80036" points="1246,1209.5703,1256,1213.5703,1246,1217.5703,1250,1213.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="1252" y1="1213.5703" y2="1213.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="858.5" y="1208.5044">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="880.5" y="1208.5044">Create new users</text><polygon fill="#A80036" points="1246,1238.7031,1256,1242.7031,1246,1246.7031,1250,1242.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="1252" y1="1242.7031" y2="1242.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="858.5" y="1237.6372">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="880.5" y="1237.6372">Get Users (context state.SearchParams)</text><polygon fill="#A80036" points="862.5,1267.8359,852.5,1271.8359,862.5,1275.8359,858.5,1271.8359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="856.5" x2="1257" y1="1271.8359" y2="1271.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="868.5" y="1266.77">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="890.5" y="1266.77">users list</text><polygon fill="#A80036" points="1166.5,1296.9688,1176.5,1300.9688,1166.5,1304.9688,1170.5,1300.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="1172.5" y1="1300.9688" y2="1300.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="858.5" y="1295.9028">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="880.5" y="1295.9028">Dispatch LOAD_USERS(users list)</text><polygon fill="#A80036" points="323.5,1326.1016,313.5,1330.1016,323.5,1334.1016,319.5,1330.1016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="317.5" x2="1177.5" y1="1330.1016" y2="1330.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="329.5" y="1325.0356">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="402" x="351.5" y="1325.0356">Update Context state with users list (UserExtendedData.users)</text><polygon fill="#A80036" points="839.5,1355.2344,849.5,1359.2344,839.5,1363.2344,843.5,1359.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="312.5" x2="845.5" y1="1359.2344" y2="1359.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="319.5" y="1354.1685">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="427" x="341.5" y="1354.1685">Launch useEffect on context state change. Action = LOAD_USERS.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="893.5" y1="1388.3672" y2="1388.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="893.5" x2="893.5" y1="1388.3672" y2="1401.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="852.5" x2="893.5" y1="1401.3672" y2="1401.3672"/><polygon fill="#A80036" points="862.5,1397.3672,852.5,1401.3672,862.5,1405.3672,858.5,1401.3672" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="858.5" y="1383.3013">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="880.5" y="1383.3013">Do nothing for action LOAD_USERS</text><rect fill="#EEEEEE" filter="url(#foc98r3qz6uph)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1306" x="3" y="1429.9336"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1309" y1="1429.9336" y2="1429.9336"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1309" y1="1432.9336" y2="1432.9336"/><rect fill="#EEEEEE" filter="url(#foc98r3qz6uph)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="92" x="610" y="1419.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="78" x="616" y="1435.4341">Areas Part</text><polygon fill="#A80036" points="1246,1469.6328,1256,1473.6328,1246,1477.6328,1250,1473.6328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="559.5" x2="1252" y1="1473.6328" y2="1473.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="566.5" y="1468.5669">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="588.5" y="1468.5669">Get users areas distinct</text><polygon fill="#A80036" points="570.5,1498.7656,560.5,1502.7656,570.5,1506.7656,566.5,1502.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="564.5" x2="1257" y1="1502.7656" y2="1502.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="576.5" y="1497.6997">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="598.5" y="1497.6997">areas</text><polygon fill="#A80036" points="1166.5,1527.8984,1176.5,1531.8984,1166.5,1535.8984,1170.5,1531.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="559.5" x2="1172.5" y1="1531.8984" y2="1531.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="566.5" y="1526.8325">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="259" x="588.5" y="1526.8325">Dispatch UPDATE_USERS_AREAS(areas)</text><polygon fill="#A80036" points="323.5,1557.0313,313.5,1561.0313,323.5,1565.0313,319.5,1561.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="317.5" x2="1177.5" y1="1561.0313" y2="1561.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="329.5" y="1555.9653">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="430" x="351.5" y="1555.9653">Update context state with areas (UserExtendedData.deliveryAreas)</text><polygon fill="#A80036" points="839.5,1586.1641,849.5,1590.1641,839.5,1594.1641,843.5,1590.1641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="312.5" x2="845.5" y1="1590.1641" y2="1590.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="319.5" y="1585.0981">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="493" x="341.5" y="1585.0981">Launch useEffect on context state change. Action = UPDATE_USERS_AREAS.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="893.5" y1="1619.2969" y2="1619.2969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="893.5" x2="893.5" y1="1619.2969" y2="1632.2969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="852.5" x2="893.5" y1="1632.2969" y2="1632.2969"/><polygon fill="#A80036" points="862.5,1628.2969,852.5,1632.2969,862.5,1636.2969,858.5,1632.2969" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="858.5" y="1614.231">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="291" x="880.5" y="1614.231">Do nothing for action UPDATE_USERS_AREAS</text><path d="M13,1654.2969 L269,1654.2969 L269,1661.2969 L259,1671.2969 L13,1671.2969 L13,1654.2969 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="608.5234" style="stroke: #000000; stroke-width: 2.0;" width="1286" x="13" y="1654.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="211" x="28" y="1667.3638">Change Search Params Flow</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="69.5" x2="111.5" y1="1692.5625" y2="1692.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111.5" x2="111.5" y1="1692.5625" y2="1705.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70.5" x2="111.5" y1="1705.5625" y2="1705.5625"/><polygon fill="#A80036" points="80.5,1701.5625,70.5,1705.5625,80.5,1709.5625,76.5,1705.5625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="76.5" y="1687.4966">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="98.5" y="1687.4966">change search params</text><polygon fill="#A80036" points="1166.5,1730.6953,1176.5,1734.6953,1166.5,1738.6953,1170.5,1734.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69.5" x2="1172.5" y1="1734.6953" y2="1734.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="76.5" y="1729.6294">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="98.5" y="1729.6294">Dispatch SEARCH_USERS(search params)</text><polygon fill="#A80036" points="323.5,1759.8281,313.5,1763.8281,323.5,1767.8281,319.5,1763.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="317.5" x2="1177.5" y1="1763.8281" y2="1763.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="329.5" y="1758.7622">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="498" x="351.5" y="1758.7622">Update Context state with search params (UserExtendedData.searchParams)</text><rect fill="#EEEEEE" filter="url(#foc98r3qz6uph)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1306" x="3" y="1792.3945"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1309" y1="1792.3945" y2="1792.3945"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1309" y1="1795.3945" y2="1795.3945"/><rect fill="#EEEEEE" filter="url(#foc98r3qz6uph)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="91" x="610.5" y="1781.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="616.5" y="1797.895">Users Part</text><polygon fill="#A80036" points="839.5,1832.0938,849.5,1836.0938,839.5,1840.0938,843.5,1836.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="312.5" x2="845.5" y1="1836.0938" y2="1836.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="319.5" y="1831.0278">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="444" x="341.5" y="1831.0278">Launch useEffect on context state change. Action = SEARCH_USERS.</text><polygon fill="#A80036" points="1246,1861.2266,1256,1865.2266,1246,1869.2266,1250,1865.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="1252" y1="1865.2266" y2="1865.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="858.5" y="1860.1606">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="880.5" y="1860.1606">Get Users (context state.SearchParams)</text><polygon fill="#A80036" points="862.5,1890.3594,852.5,1894.3594,862.5,1898.3594,858.5,1894.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="856.5" x2="1257" y1="1894.3594" y2="1894.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="868.5" y="1889.2935">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="890.5" y="1889.2935">users list</text><polygon fill="#A80036" points="1166.5,1919.4922,1176.5,1923.4922,1166.5,1927.4922,1170.5,1923.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="1172.5" y1="1923.4922" y2="1923.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="858.5" y="1918.4263">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="880.5" y="1918.4263">Dispatch LOAD_USERS(users list)</text><polygon fill="#A80036" points="323.5,1948.625,313.5,1952.625,323.5,1956.625,319.5,1952.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="317.5" x2="1177.5" y1="1952.625" y2="1952.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="329.5" y="1947.5591">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="402" x="351.5" y="1947.5591">Update Context state with users list (UserExtendedData.users)</text><polygon fill="#A80036" points="839.5,1977.7578,849.5,1981.7578,839.5,1985.7578,843.5,1981.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="312.5" x2="845.5" y1="1981.7578" y2="1981.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="319.5" y="1976.6919">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="427" x="341.5" y="1976.6919">Launch useEffect on context state change. Action = LOAD_USERS.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="893.5" y1="2010.8906" y2="2010.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="893.5" x2="893.5" y1="2010.8906" y2="2023.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="852.5" x2="893.5" y1="2023.8906" y2="2023.8906"/><polygon fill="#A80036" points="862.5,2019.8906,852.5,2023.8906,862.5,2027.8906,858.5,2023.8906" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="858.5" y="2005.8247">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="880.5" y="2005.8247">Do nothing for action LOAD_USERS</text><rect fill="#EEEEEE" filter="url(#foc98r3qz6uph)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1306" x="3" y="2052.457"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1309" y1="2052.457" y2="2052.457"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1309" y1="2055.457" y2="2055.457"/><rect fill="#EEEEEE" filter="url(#foc98r3qz6uph)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="92" x="610" y="2041.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="78" x="616" y="2057.9575">Areas Part</text><polygon fill="#A80036" points="1246,2092.1563,1256,2096.1563,1246,2100.1563,1250,2096.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="559.5" x2="1252" y1="2096.1563" y2="2096.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="566.5" y="2091.0903">42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="588.5" y="2091.0903">Get users areas distinct</text><polygon fill="#A80036" points="570.5,2121.2891,560.5,2125.2891,570.5,2129.2891,566.5,2125.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="564.5" x2="1257" y1="2125.2891" y2="2125.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="576.5" y="2120.2231">43</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="598.5" y="2120.2231">areas</text><polygon fill="#A80036" points="1166.5,2150.4219,1176.5,2154.4219,1166.5,2158.4219,1170.5,2154.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="559.5" x2="1172.5" y1="2154.4219" y2="2154.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="566.5" y="2149.356">44</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="259" x="588.5" y="2149.356">Dispatch UPDATE_USERS_AREAS(areas)</text><polygon fill="#A80036" points="323.5,2179.5547,313.5,2183.5547,323.5,2187.5547,319.5,2183.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="317.5" x2="1177.5" y1="2183.5547" y2="2183.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="329.5" y="2178.4888">45</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="430" x="351.5" y="2178.4888">Update context state with areas (UserExtendedData.deliveryAreas)</text><polygon fill="#A80036" points="839.5,2208.6875,849.5,2212.6875,839.5,2216.6875,843.5,2212.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="312.5" x2="845.5" y1="2212.6875" y2="2212.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="319.5" y="2207.6216">46</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="493" x="341.5" y="2207.6216">Launch useEffect on context state change. Action = UPDATE_USERS_AREAS.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="893.5" y1="2241.8203" y2="2241.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="893.5" x2="893.5" y1="2241.8203" y2="2254.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="852.5" x2="893.5" y1="2254.8203" y2="2254.8203"/><polygon fill="#A80036" points="862.5,2250.8203,852.5,2254.8203,862.5,2258.8203,858.5,2254.8203" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="858.5" y="2236.7544">47</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="291" x="880.5" y="2236.7544">Do nothing for action UPDATE_USERS_AREAS</text><!--MD5=[a0577413a94e0be950d6937b215a7479]
@startuml
title Load Users

autonumber

participant UsersPage as UI
participant ContextState as context
participant InitialEffect as inital_effect
participant StateChangeEffect as effect
participant Reducer as reducer
participant Server as server

group initalize User Context
note over context
  <b><u>context state: UserExtendedData</u></b>:
  {
      users: User[], <b>// User Data</b>
      action: IActionBase { <b>// the Action that generated the data</b>
                  type: string;  
                        (ADD_USER, 
                         ADD_USERS, 
                         EDIT_USER, 
                         REMOVE_USER, 
                         LOAD_USERS, 
                         SEARCH_USERS, 
                         UPDATE_USERS_AREAS)
                  [prop: string]: any;
      searchParams : ISearchUsersParams { <b> // how data retreived </b>
                         "dayFilter": string,
                         "cityFilter": string,
                         "nameFilter": string
          },
      deliveryAreas: string[] <b>// distinct areas from users </b>
  }
end note
UI -> context: Page Load with Context Provider
context -> context: Create initial context (default)
context-> inital_effect: Launch initial effect (useEffect [])
== Users Part==
inital_effect -> server: Get Users (context state.SearchParams)
server - -> inital_effect: users list
inital_effect -> reducer: Dispatch LOAD_USERS
reducer -> context: Update Context state with users list (UserExtendedData.users)
context -> effect: Launch useEffect on context state change. Action = LOAD_USERS.
effect -> effect: Do nothing for action LOAD_USERS
== Areas Part==
inital_effect -> server: Get users areas distinct
server - -> inital_effect: areas
inital_effect -> reducer : Dispatch UPDATE_USERS_AREAS(areas)
reducer -> context: Update context state with areas (UserExtendedData.deliveryAreas)
context -> effect: Launch useEffect on context state change. Action = UPDATE_USERS_AREAS.
effect -> effect: Do nothing for action UPDATE_USERS_AREAS
end

group Add User Flow
UI -> reducer: Dispatch ADD_USER(user)
== Users Part==
reducer -> context: Update Context state with new user 
note over context
add the new user to context state (stateExtendedData.users)
end note
context -> effect: Launch useEffect on context state change. Action = ADD_USER.
effect -> server: Create new users
effect -> server: Get Users (context state.SearchParams)
server - -> effect: users list
effect -> reducer: Dispatch LOAD_USERS(users list)
reducer -> context: Update Context state with users list (UserExtendedData.users)
context -> effect: Launch useEffect on context state change. Action = LOAD_USERS.
effect -> effect: Do nothing for action LOAD_USERS
== Areas Part==
inital_effect -> server: Get users areas distinct
server - -> inital_effect: areas
inital_effect -> reducer : Dispatch UPDATE_USERS_AREAS(areas)
reducer -> context: Update context state with areas (UserExtendedData.deliveryAreas)
context -> effect: Launch useEffect on context state change. Action = UPDATE_USERS_AREAS.
effect -> effect: Do nothing for action UPDATE_USERS_AREAS

end

group Change Search Params Flow
UI -> UI: change search params
UI -> reducer: Dispatch SEARCH_USERS(search params)
reducer -> context: Update Context state with search params (UserExtendedData.searchParams)
== Users Part==
context -> effect: Launch useEffect on context state change. Action = SEARCH_USERS.
effect -> server: Get Users (context state.SearchParams)
server - -> effect: users list
effect -> reducer: Dispatch LOAD_USERS(users list)
reducer -> context: Update Context state with users list (UserExtendedData.users)
context -> effect: Launch useEffect on context state change. Action = LOAD_USERS.
effect -> effect: Do nothing for action LOAD_USERS
== Areas Part==
inital_effect -> server: Get users areas distinct
server - -> inital_effect: areas
inital_effect -> reducer : Dispatch UPDATE_USERS_AREAS(areas)
reducer -> context: Update context state with areas (UserExtendedData.deliveryAreas)
context -> effect: Launch useEffect on context state change. Action = UPDATE_USERS_AREAS.
effect -> effect: Do nothing for action UPDATE_USERS_AREAS
end
@enduml

PlantUML version 1.2019.11(Sun Sep 22 12:02:15 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_222-8u222-b10-1ubuntu1~16.04.1-b10
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>